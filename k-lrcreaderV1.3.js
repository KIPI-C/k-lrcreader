/**
 * 由 KIPI-C 在2017/7/28 17:03 创建
 */
// k-lrcreader 1.3 引擎
function lrcread(lrc,audio,outPrint,alt){var lrctext,lrcli,lrclong,x,xx,xxx,ar,ti,min,s,ms,upt,lrcnuber,lrccc,infonuber=0;var lrcarray=[],lrcpart=[],timetouptime=[];$.get(lrc,function(responseTxt){aa(responseTxt)});function aa(text){if(lrc){{$(document).ready(function(){lrctext=text;lrctext.toString();lrctext=lrctext.replace(/\n/g,"");while(lrcli!==-1){lrcli=lrctext.indexOf("[",lrcli+1);lrcarray.push(lrcli)}lrclong=lrcarray.push()-1;x=0;xx=0;while(x!==lrclong){if(x===0){xx=0}else{xx=lrcarray[x]}if(x===lrclong-1){lrcpart[x]=lrctext.slice(xx,lrctext.length)}else{lrcpart[x]=lrctext.slice(xx,lrcarray[x+1])}x++}x=0;xx=0;xxx=0;x=0;xx=0;while(x!==lrclong){xx=lrcpart[x].substr(1,2);switch(xx){case"ar"||"AR":ar=lrcpart[x].slice(4,lrcpart[x].lastIndexOf("]"));infonuber++;break;case"ti"||"TI":ti=lrcpart[x].slice(4,lrcpart[x].lastIndexOf("]"));infonuber++;break;case"al"||"AL":infonuber++;break;case null:infonuber++;break;case undefined:break;case"  ":infonuber++;break;case" ":infonuber++;break;default:min=xx;s=String().concat(lrcpart[x].charAt(4),lrcpart[x].charAt(5));if(lrcpart[x].charAt(6)===":"||lrcpart[x].charAt(6)==="."){ms=String().concat(lrcpart[x].charAt(7),lrcpart[x].charAt(8))}min=parseInt(min*60000);s=parseInt(s*1000);ms=parseInt(ms);timetouptime[xxx]=(min+s+ms);lrcpart[x]=lrcpart[x].slice(10,lrcpart[x].length);xxx++;break}x++}if(ar===undefined&&ti===undefined){ar=alt;outPrint.style.fontWeight="bolder";outPrint.style.fontSize="14px"}if(ar&&ti){ar=ar+" - "}if(ar===undefined){ar=""}if(ti===undefined){ti=""}outPrint.innerHTML=ar+ti;x=0;timetouptime.pop();lrccc=-1;setInterval(function(){var ct=audio.currentTime;var $time=Math.round(ct*1000);function checktime($$$$){return $$$$<=$time}upt=timetouptime.filter(checktime);lrcnuber=upt.length;if(lrcnuber>0){if(lrccc!==lrcnuber){lrccc=lrcnuber;outPrint.innerHTML=lrcpart[lrccc+infonuber-1]}}},10)})}}}}
