//由 KIPI-C 在2017/7/28 17:03 创建
// k-lrcreader 1.4.1 引擎
var text,li,long,x,xx,xxx,ar,ti,min,s,ms,upt,nuber,lrcc,info=0,array=[],part=[],time=[];function lrcread(lrc,audio,out,alt){$.get(lrc,function(r){aa(r)});function aa(t){if(lrc){{$(document).ready(function(){text=t.replace(/\n/g,"");while(li!==-1){li=text.indexOf("[",li+1);array.push(li)}long=array.push()-1;x=0;xx=0;while(x!==long){if(x===0){xx=0}else{xx=array[x]}if(x===long-1){part[x]=text.slice(xx,text.length)}else{part[x]=text.slice(xx,array[x+1])}x++}x=0;xx=0;xxx=0;x=0;xx=0;while(x!==long){xx=part[x].substr(1,2);switch(xx){case"ar":ar=part[x].slice(4,part[x].lastIndexOf("]"));info++;break;case"ti":ti=part[x].slice(4,part[x].lastIndexOf("]"));info++;break;case"al":info++;break;case null:info++;break;case undefined:break;case"  ":info++;break;case" ":info++;break;default:min=xx;s=String().concat(part[x].charAt(4),part[x].charAt(5));if(part[x].charAt(6)===":"||part[x].charAt(6)==="."){ms=String().concat(part[x].charAt(7),part[x].charAt(8))}min=parseInt(min*60000);s=parseInt(s*1000);ms=parseInt(ms);time[xxx]=(min+s+ms);part[x]=part[x].slice(10,part[x].length);xxx++;break}x++}function c(a){if(ar===undefined&&ti===undefined){ar=alt;out.style.fontWeight="bolder"}if(ar&&ti&&a){ar=ar+" - "}if(ar===undefined){ar=""}if(ti===undefined){ti=""}out.innerHTML=ar+ti}c(1);x=0;lrcc=-1;setInterval(function(){var ac=audio.currentTime;if(ac===audio.duration){c();audio.currentTime=0}var $time=Math.round(ac*1000);function checktime($$$$){return $$$$<$time}upt=time.filter(checktime);nuber=upt.length;if(nuber>0){if(lrcc!==nuber){lrcc=nuber;out.innerHTML=part[lrcc+info-1]}}},1)})}}}}
